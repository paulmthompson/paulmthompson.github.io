
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Simple Shapes</title>
    
    <meta name="author" content="">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
      	
      	<li><a href="/about.html">About Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/CV.html">CV</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/Research.html">Research</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/Software.html">Software</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/PBrain.html">Peripheral Brain</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<div class="page-header">
  <h1>Simple Shapes </h1>
</div>

<div class="row">
  <div class="col-xs-12">
    <p>To display a shape, we are going to need to specify the shape in terms that OpenGL can understand and provide a place where we can see the shape displayed. We already learned about how the Screen type in julia provides an OpenGL context, as well as a simple renderloop function that will take care of refreshing the image, gathering inputs, resizing the image if the window is resized, etc. We therefore need to create a RenderObject, and add it to our Screen type</p>

<h3 id="creating-a-renderobject">Creating a RenderObject</h3>

<p>To make a simple 2D triangle, we should have 3 2D coordinates. We specify these as a Dictionary with the keyword for the input variable to the shader. For our shader, this keyword should be “position”. Our only other mandatory component is our shaders, which can be in the form of a lazy shader:</p>

<figure class="highlight"><pre><code class="language-julia" data-lang="julia"><span class="kd">const</span> <span class="n">triangle</span> <span class="o">=</span> <span class="n">std_renderobject</span><span class="x">(</span>
	<span class="n">Dict</span><span class="x">{</span><span class="n">Symbol</span><span class="x">,</span> <span class="kt">Any</span><span class="x">}(</span>
	<span class="x">:</span><span class="n">position</span> <span class="o">=&gt;</span> <span class="n">GLBuffer</span><span class="x">(</span><span class="n">Point2f0</span><span class="x">[(</span><span class="mf">0.0</span><span class="x">,</span> <span class="mf">0.5</span><span class="x">),</span> <span class="x">(</span><span class="mf">0.5</span><span class="x">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="x">),</span> <span class="x">(</span><span class="o">-</span><span class="mf">0.5</span><span class="x">,</span><span class="o">-</span><span class="mf">0.5</span><span class="x">)]),</span>
	<span class="x">),</span>
	<span class="n">LazyShader</span><span class="x">(</span><span class="n">vsh</span><span class="x">,</span> <span class="n">fsh</span><span class="x">)</span>
<span class="x">)</span></code></pre></figure>

<p>triangle is a RenderObject type. We can add it to an existing Screen the following way:</p>

<figure class="highlight"><pre><code class="language-julia" data-lang="julia"><span class="n">push!</span><span class="x">(</span><span class="n">window</span><span class="o">.</span><span class="n">renderlist</span><span class="x">,</span><span class="n">triangle</span><span class="x">)</span></code></pre></figure>

<h3 id="visualizing-a-render-object">Visualizing a Render Object</h3>

<p>Bringing it all together, we can use the following code to create a triangle, and view it in an OpenGL context:</p>

<figure class="highlight"><pre><code class="language-julia" data-lang="julia"><span class="n">using</span> <span class="n">GLWindow</span><span class="x">,</span> <span class="n">GLAbstraction</span><span class="x">,</span> <span class="n">GeometryTypes</span>

<span class="kd">const</span> <span class="n">window</span> <span class="o">=</span> <span class="n">Screen</span><span class="x">()</span>

<span class="kd">const</span> <span class="n">vsh</span> <span class="o">=</span> <span class="n">vert</span><span class="s">"""

in vec2 position;
void main(){
	gl_Position = vec4(position, 0, 1.0);
}
"""</span>

<span class="kd">const</span> <span class="n">fsh</span> <span class="o">=</span> <span class="n">frag</span><span class="s">"""

out vec4 outColor;
void main() {
	outColor = vec4(1.0, 0.0, 0.0, 1.0);
}
"""</span>

<span class="kd">const</span> <span class="n">triangle</span> <span class="o">=</span> <span class="n">std_renderobject</span><span class="x">(</span>
    <span class="n">Dict</span><span class="x">{</span><span class="n">Symbol</span><span class="x">,</span> <span class="kt">Any</span><span class="x">}(</span>
    <span class="x">:</span><span class="n">position</span> <span class="o">=&gt;</span> <span class="n">GLBuffer</span><span class="x">(</span><span class="n">Point2f0</span><span class="x">[(</span><span class="mf">0.0</span><span class="x">,</span> <span class="mf">0.5</span><span class="x">),</span> <span class="x">(</span><span class="mf">0.5</span><span class="x">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="x">),</span> <span class="x">(</span><span class="o">-</span><span class="mf">0.5</span><span class="x">,</span><span class="o">-</span><span class="mf">0.5</span><span class="x">)]),</span>
    	<span class="x">),</span>
<span class="n">LazyShader</span><span class="x">(</span><span class="n">vsh</span><span class="x">,</span> <span class="n">fsh</span><span class="x">)</span>
<span class="x">)</span>

<span class="n">push!</span><span class="x">(</span><span class="n">window</span><span class="o">.</span><span class="n">renderlist</span><span class="x">,</span><span class="n">triangle</span><span class="x">)</span>

<span class="n">renderloop</span><span class="x">(</span><span class="n">window</span><span class="x">)</span></code></pre></figure>

<p>Next:
<a href="7_manipulating_shapes.html">Manipulating Shapes</a></p>

<p>Previous:
<a href="5_shaders.html">Shaders</a></p>

  </div>
</div>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2016 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
        </p>
      </div>
    </div>

    




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





  </body>
</html>

