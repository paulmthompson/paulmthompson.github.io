
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Neurolucida File Import</title>
    
    <meta name="author" content="">

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Bootstrap styles -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Optional theme -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bootstrap-theme.min.css" rel="stylesheet">
    <!-- Sticky Footer -->
    <link href="/assets/themes/bootstrap-3/bootstrap/css/bs-sticky-footer.css" rel="stylesheet">
    
    <!-- Custom styles -->
    <link href="/assets/themes/bootstrap-3/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <!-- Fav and touch icons -->
    <!-- Update these with your own images
      <link rel="shortcut icon" href="images/favicon.ico">
      <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
      <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
      <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
    -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

  </head>

  <body>
    <div id="wrap">
      <nav class="navbar navbar-default" role="navigation">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#jb-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="jb-navbar-collapse">
          <ul class="nav navbar-nav">
            
            
            


  
    
      
      	
      	<li><a href="/about.html">About Me</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/CV.html">CV</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/Research.html">Research</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/Software.html">Software</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/PBrain.html">Peripheral Brain</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  
    
      
    
  



          </ul>
          <form class="navbar-form navbar-right" role="search">
            <div class="form-group">
              <input type="text" class="form-control" placeholder="Search">
            </div>
            <button type="submit" class="btn btn-default">Submit</button>
          </form>
        </div><!-- /.navbar-collapse -->
      </nav>

      <div class="container">
        
<div class="page-header">
  <h1>Neurolucida File Import </h1>
</div>

<div class="row">
  <div class="col-xs-12">
    <h2 id="overview">Overview</h2>

<p>A common file type of 3D neuronal morphologies is from <a href="http://www.mbfbioscience.com/neurolucida">Neurolucida</a> software. These have the .asc file extension. I will briefly outline how JNeuron parses these files.</p>

<h2 id="file-format">File format</h2>

<p>If you take a look at a neurolucida file, it looks kind of Lisp-y, with values between parentheses of varying levels of indentation. Here is a snippet from a modelDB <a href="https://senselab.med.yale.edu/ModelDB/ShowModel.cshtml?model=139653&amp;file=/L5bPCmodelsEH/morphologies/cell2.asc">file</a>:</p>

<pre>
( (Color RGB (100, 100, 100))
  (Dendrite)
  (  469.57   100.92   -11.00     0.29)  ; Root
  (  470.73   100.28   -11.37     1.75)  ; 1, R
  (
    (  472.19   100.28    -6.97     1.17)  ; 1, R-1
    (  474.82    99.02    -4.55     1.17)  ; 2
    (  478.61    99.34    -2.27     1.17)  ; 3
    (  482.70    99.02    -2.13     1.17)  ; 4
    (  485.33    98.70    -1.67     1.17)  ; 5
    (
      (  487.66    99.34    -1.67     0.88)  ; 1, R-1-1
      (  489.41    99.34    -0.12     0.88)  ; 2
      (  489.70   100.28    -0.07     0.88)  ; 3
      (  490.29   102.18     0.60     0.88)  ; 4
      (  492.33   103.76     1.92     1.17)  ; 5
      (  494.37   104.08     2.40     1.17)  ; 6
      (  497.00   103.76     4.20     1.17)  ; 7
      (  498.46   103.13     9.35     1.17)  ; 8
      (
        (  498.75   101.86    11.10     0.88)  ; 1, R-1-1-1
        (  499.04   100.92    11.22     0.88)  ; 2
        (  500.12   100.60    11.37     0.88)  ; 3
        (  502.16   101.86    11.45     0.88)  ; 4
</pre>

<p>Whatever is between two parentheses is part of the same component of the file. In this example, we start with an open parentheses that is never closed, meaning that everything that follows is part of the same trunk. For the most part, JNeuron only cares about the lists of 4 values and a few of the labels. </p>

<p>Four cell labels matter to JNeuron: Axon, Cell Body, Dendrite, and Apical. As you can see, this is a dendrite. Axon, Dendrite and Apical follow the same method to parse. Cell Body is a little different and will be discussed separately below.</p>

<p>Each time a new indented lone parenthesis is seen, that indicates that there is a branch from the current trunk. Right hand parentheses indicate that a segment is now complete and the next values listed will be part of the previous trunk.</p>

<p>The lines of 4 values signify the x, y and z position of the current section, along wth the diameter. On the far right side of this example, you can see the numbers signifying the index of this data point in the section, and even labels for each section. I have not always found these consistently in data files.</p>

<h2 id="soma">Soma</h2>

<h2 id="jneuron-parser">JNeuron Parser</h2>

  </div>
</div>


      </div>

    </div>

    <div id="footer">
      <div class="container">
        <p>&copy; 2015 
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>
        </p>
      </div>
    </div>

    




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-123-12']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





  </body>
</html>

